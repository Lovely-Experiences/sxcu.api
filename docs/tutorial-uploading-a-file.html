<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Tutorial: Uploading a File</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Tutorial: Uploading a File</h1>

    <section>

<header>
    

    <h2>Uploading a File</h2>
</header>

<article>
    <p>Uploading a file using sxcu.api is really simple, however it is easy to make some mistakes.</p>
<p>We will start with the basics of using the method.</p>
<pre class="prettyprint source lang-js"><code>const { files } = require('sxcu.api');

files.uploadFile();
</code></pre>
<p>In the above example, we are only requiring the <code>files</code> portion of the API wrapper.</p>
<p>When uploading a file, it's important you know the correct path to the file. You can include a file pretty much anywhere on your computer, however its recommend to only use files that are in the same directory as your project.</p>
<p>For this example, the file directory will be as bellow:</p>
<p><img src="./images/file-dir.png" alt="File Directory"></p>
<p>Now that we know what the file is called, we can add it to the method. We have also added a function defined in <code>.then</code> to allow us to see the response returned by the API using <code>console.log()</code>.</p>
<pre class="prettyprint source lang-js"><code>const { files } = require('sxcu.api');

files.uploadFile('test.png').then(function (data) {
    console.log(data);
});
</code></pre>
<p>If everything went well, you will receive the following output in your console:</p>
<pre class="prettyprint source lang-js"><code>{
  id: '5TRElBtZl',
  url: 'https://sxcu.net/5TRElBtZl',
  deletionUrl: 'https://sxcu.net/api/files/delete/5TRElBtZl/a9344e8a-919f-4480-a51c-dbc01138b136',
  deletionToken: 'a9344e8a-919f-4480-a51c-dbc01138b136',
  thumbnail: 'https://sxcu.net/t/5TRElBtZl.png'
}
</code></pre>
<blockquote>
<p><em>The above image has already been deleted.</em></p>
</blockquote>
<p>When you upload images (or use any endpoint methods), you will want to use <code>catch</code> incase you encounter any errors.</p>
<pre class="prettyprint source lang-js"><code>const { files, utility } = require('sxcu.api');

files
    .uploadFile('test.png')
    .then(function (data) {
        console.log(data);
    })
    .catch(function (err) {
        console.log(utility.resolveError(err));
    });
</code></pre>
<p>If we were to provide the wrong file name, the above would allow us to see the error in the console.</p>
<pre class="prettyprint source lang-js"><code>{
  error: &quot;Couldn't parse file: Error: ENOENT: no such file or directory, open 'not-a-test.png'&quot;,
  code: -1
}
</code></pre>
<p>The reason we included <code>utility.resolveError(...)</code> is because when we encounter errors such as wrong file names, we will <strong>not</strong> receive the standard <code>ErrorResponse</code>. Using the utility method <strong>guarantees</strong> an error response object 100% of the time.</p>
<p>If you would like to learn more about uploading and deleting files, please view <a href="https://lovely-experiences.github.io/sxcu.api/Files.html">the documentation</a>.</p>
<blockquote>
<p><strong>Last updated:</strong> January 26th, 2023.<br><strong>Editors:</strong> @jacobhumston</p>
</blockquote>
</article>

</section>

</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Namespaces</h3><ul><li><a href="Collections.html">Collections</a></li><li><a href="Files.html">Files</a></li><li><a href="Links.html">Links</a></li><li><a href="Subdomains.html">Subdomains</a></li><li><a href="Text.html">Text</a></li><li><a href="Utility.html">Utility</a></li></ul><h3>Tutorials</h3><ul><li><a href="tutorial-uploading-a-file.html">Uploading a File</a></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.0</a> on Mon Jan 30 2023 10:56:25 GMT-0500 (Eastern Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>